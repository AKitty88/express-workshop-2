{% assign default_paths = site.pages | map: "path" %}
{% assign page_paths = site.header_pages | default: default_paths %}

<div class="step-nav">

  <ul>
  {% for path in page_paths %}
    {% assign my_page = site.pages | where: "path", path | first %}
    {% if my_page.title and my_page.layout == "step" %}
      <li class='{% if page.number == my_page.number %}active{% endif %}'>
        <a href="{{ my_page.url | relative_url }}">
          {% if my_page.number != "start" %}{{my_page.number}} - {% endif %}{{ my_page.title | escape }}
        </a>
      </li>
    {% endif %}
  {% endfor %}
  </ul>

</div>
